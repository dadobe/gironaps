{"version":3,"sources":["webpack:///src/app/tab2/tab2.page.scss","webpack:///src/app/tab2/tab2.page.ts","webpack:///src/app/tab2/tab2.module.ts","webpack:///src/app/tab2/tab2-routing.module.ts","webpack:///src/app/tab2/tab2.page.html"],"names":["Tab2Page","_auth","_productService","_cartService","_modalController","_afstore","cartItemCount","getCartItemCount","searchActive","searchResults","products","getAllProducts","create","component","cssClass","modal","present","collection","valueChanges","pipe","toPromise","itemList","itemListBackup","evt","initializedItems","searchTerm","srcElement","value","filter","currentItem","itemName","toLowerCase","indexOf","console","log","selector","template","Tab2PageModule","imports","declarations","routes","path","Tab2PageRoutingModule","forChild","exports"],"mappings":"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","file":"tab2-tab2-module-es5.js","sourcesContent":["export default \"ion-fab-button {\\n  height: 70px;\\n  width: 70px;\\n}\\n\\n.cart-icon {\\n  font-size: 50px;\\n}\\n\\n.cart-length {\\n  color: var(--ion-color-primary);\\n  position: absolute;\\n  top: 19px;\\n  left: 25px;\\n  font-weight: 600;\\n  font-size: 1em;\\n  min-width: 25px;\\n  z-index: 10;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3RhYjIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBQTtFQUNBLFdBQUE7QUFDRjs7QUFFQTtFQUNFLGVBQUE7QUFDRjs7QUFFQTtFQUNFLCtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxTQUFBO0VBQ0EsVUFBQTtFQUNBLGdCQUFBO0VBQ0EsY0FBQTtFQUNBLGVBQUE7RUFDQSxXQUFBO0FBQ0YiLCJmaWxlIjoidGFiMi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tZmFiLWJ1dHRvbiB7XG4gIGhlaWdodDogNzBweDtcbiAgd2lkdGg6IDcwcHg7XG59XG4gXG4uY2FydC1pY29uIHtcbiAgZm9udC1zaXplOiA1MHB4O1xufVxuIFxuLmNhcnQtbGVuZ3RoIHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDE5cHg7XG4gIGxlZnQ6IDI1cHg7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIGZvbnQtc2l6ZTogMWVtO1xuICBtaW4td2lkdGg6IDI1cHg7XG4gIHotaW5kZXg6IDEwO1xufSJdfQ== */\";","import { ActivatedRoute } from '@angular/router';\nimport { CartService } from './../services/cart.service';\nimport { Component, OnInit } from '@angular/core';\nimport { Observable, BehaviorSubject } from 'rxjs';\nimport { AuthService } from '../services/auth.service';\nimport { ProductService } from '../services/product.service';\nimport { ModalController } from '@ionic/angular';\nimport { CartModalPage } from '../pages/cart-modal/cart-modal.page';\n\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { first } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-tab2',\n  templateUrl: 'tab2.page.html',\n  styleUrls: ['tab2.page.scss']\n})\nexport class Tab2Page implements OnInit{\n\n  products: Observable<any>;\n  cartItemCount: BehaviorSubject<number> = this._cartService.getCartItemCount();\n\n  itemList: any[];\n  itemListBackup: any[];\n  searchActive = false;\n  searchResults = [];\n\n  constructor(\n    private _auth: AuthService, \n    private _productService: ProductService,\n    private _cartService: CartService,\n    private _modalController: ModalController,\n    private _afstore : AngularFirestore\n    ) {}\n\n    ngOnInit() {\n      /* to load all the products on initiating the app */\n      this.products = this._productService.getAllProducts();\n    }\n\n    async openCart(){\n      const modal = await this._modalController.create({\n        component: CartModalPage,\n        cssClass: 'cart-modal'\n      });\n      modal.present();\n\n    }\n\n    //Implementation of Search function  in the E-SHOP\n    async initializedItems(): Promise<any> {\n      const itemList = await this._afstore.collection('products')\n      .valueChanges()\n      .pipe(first())\n      .toPromise();\n\n      this.itemListBackup = itemList;\n      return itemList;\n    }\n\n    async filterList(evt) {\n      this.itemList = await this.initializedItems();\n      const searchTerm = evt.srcElement.value;\n    \n      if (!searchTerm) {\n        this.searchActive = false;\n        this.searchResults = [];\n      }\n      this.searchActive = true;\n      this.itemList = this.itemList.filter(currentItem => {\n        if (currentItem.itemName && searchTerm) {\n          return (currentItem.itemName.toLowerCase().indexOf(searchTerm.toLowerCase()) > -1);\n        }\n      });\n      console.log('itemList: ', this.itemList);\n    }\n}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab2Page } from './tab2.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\n\nimport { Tab2PageRoutingModule } from './tab2-routing.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    Tab2PageRoutingModule\n  ],\n  declarations: [Tab2Page]\n})\nexport class Tab2PageModule {}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab2Page } from './tab2.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab2Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab2PageRoutingModule {}\n","export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-title>\\n      Shop\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n\\n<ion-content>\\n\\n  <!-- Searchbar -->\\n  \\n  <ion-searchbar showcancelbutton=\\\"\\\" (ionInput)=\\\"filterList($event)\\\" ></ion-searchbar>\\n  <ion-list lines=\\\"none\\\">\\n    <ion-item [routerLink]=\\\"['product-detail', item.id]\\\" *ngFor=\\\"let item of itemList\\\">\\n      <ion-label class=\\\"ion-text-wrap\\\">\\n\\n        <ion-thumbnail slot=\\\"start\\\">\\n          <img [src]=\\\"item.itemImage\\\">\\n        </ion-thumbnail>\\n        <ion-label>\\n          {{item.itemName}}\\n          <p>{{item.itemPrice | currency: 'EUR' : 'symbol'}}</p>\\n          <p>category: {{item.itemCategory}}</p>\\n        </ion-label>\\n\\n      </ion-label>\\n    </ion-item>\\n  </ion-list>\\n  \\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button (click)=\\\"openCart()\\\">\\n      <div class=\\\"cart-length\\\">{{ cartItemCount | async}}</div>\\n      <ion-icon name=\\\"cart\\\" class=\\\"cart-icon\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n\\n  <ion-list>\\n    <!-- Routes to details page of clicked product -->\\n    <ion-item [routerLink]=\\\"['product-detail', p.id]\\\" button *ngFor=\\\"let p of products | async\\\">\\n\\n      <ion-thumbnail slot=\\\"start\\\">\\n        <img [src]=\\\"p.itemImage\\\">\\n      </ion-thumbnail>\\n      <ion-label>\\n        {{p.itemName}}\\n        <p>{{p.itemPrice | currency: 'EUR'}}</p>\\n        <p>category: {{p.itemCategory}}</p>\\n      </ion-label>\\n\\n    </ion-item>\\n  </ion-list>\\n\\n</ion-content>\\n\\n\";"]}