{"version":3,"sources":["./src/app/tabs/tabs.page.html","./src/app/guards/automatic-login.guard.ts","./src/app/tabs/tabs.page.ts","./src/app/tabs/tabs.page.scss","./src/app/tabs/tabs.module.ts","./src/app/tabs/tabs-routing.module.ts","./src/app/services/auth.service.ts"],"names":[],"mappings":"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","file":"tabs-tabs-module-es2015.js","sourcesContent":["export default \"<ion-tabs>\\n\\n  <ion-tab-bar slot=\\\"bottom\\\">\\n    \\n    <ion-tab-button tab=\\\"tab1\\\">\\n      <ion-icon name=\\\"home\\\"></ion-icon>\\n    </ion-tab-button>\\n\\n    <ion-tab-button tab=\\\"tab2\\\">\\n      <ion-icon name=\\\"cart\\\"></ion-icon>\\n    </ion-tab-button>\\n\\n    <ion-tab-button tab=\\\"tab3\\\">\\n      <ion-icon name=\\\"person\\\"></ion-icon>\\n    </ion-tab-button>\\n  </ion-tab-bar>\\n\\n</ion-tabs>\\n\";","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { map, take } from 'rxjs/operators';\nimport { AuthService } from '../services/auth.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AutomaticLoginGuard implements CanActivate {\n\n  constructor(\n    private _route: Router,\n    private _auth: AuthService\n  ){}\n\n  canActivate(\n    route: ActivatedRouteSnapshot\n    ):Observable<boolean>\n    {\n      return this._auth.user.pipe(\n        take(1),\n        map(user => {\n          console.log('user automatically logged:', user);\n          if(!user){\n            return true;\n          } else {\n            return false;\n          }\n        })\n      );\n  }\n\n\n  \n}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-tabs',\n  templateUrl: 'tabs.page.html',\n  styleUrls: ['tabs.page.scss']\n})\nexport class TabsPage {\n\n  constructor() {}\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ0YWJzLnBhZ2Uuc2NzcyJ9 */\";","import { IonicModule } from '@ionic/angular';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { TabsPageRoutingModule } from './tabs-routing.module';\n\nimport { TabsPage } from './tabs.page';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    TabsPageRoutingModule\n  ],\n  declarations: [TabsPage]\n})\nexport class TabsPageModule {}\n","import { AngularFireAuthGuard, redirectUnauthorizedTo } from '@angular/fire/auth-guard';\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { TabsPage } from './tabs.page';\nimport { AutomaticLoginGuard } from '../guards/automatic-login.guard';\n\n//In here we asure that unauthorized user are send back to login page\nconst redirectUnauthorizedToLogin = () => redirectUnauthorizedTo(['/']);\n\nconst routes: Routes = [\n  {\n    /* Changing the \"tabs/tab1\" on redirectTo to \"login\" we make sure that \n    the default page visited is the LOGIN screen */\n    path: '',\n    loadChildren: () => import('../pages/login/login.module').then( m => m.LoginPageModule),\n    canActivate: [AutomaticLoginGuard]\n  }\n  ,\n  {\n    path: 'tabs',\n    component: TabsPage,\n    children: [\n      {\n        path: 'tab1',\n        canActivate: [AngularFireAuthGuard],\n        data: {redirectUnauthorizedToLogin},\n        children:\n        [\n          {\n          path:'',\n          loadChildren: () => import('../tab1/tab1.module').then(m => m.Tab1PageModule)\n          }\n          ,\n          {// With this we make sure that the activitydetail page is mantained even when clicking on TAB2 or TAB3\n          // also the footer tabs are reachable when we go from HOME PAGE to BIKETOURS DETAIL page\n          path: 'biketour-detail/:biketourID', //variable as a placeholder to hold the ID value\n          loadChildren: () => import('../pages/biketour-detail/biketour-detail.module').then( m => m.BiketourDetailPageModule)\n          }\n          ,\n          {// With this we make sure that the tourismdetail page is mantained even when clicking on TAB2 or TAB3\n          // also the footer tabs are reachable when we go from HOME PAGE to TOURISM DETAIL page\n          path: 'tourism-detail/:tourismID', //variable as a placeholder to hold the ID value\n          loadChildren: () => import('../pages/tourism-detail/tourism-detail.module').then( m => m.TourismDetailPageModule)\n          }\n          ,\n          {// With this we make sure that the eventdetail page is mantained even when clicking on TAB2 or TAB3\n          // also the footer tabs are reachable when we go from HOME PAGE to EVENT DETAIL page\n          path: 'event-detail/:eventID', //variable as a placeholder to hold the ID value\n          loadChildren: () => import('../pages/event-detail/event-detail.module').then( m => m.EventDetailPageModule)\n          }\n        ]\n      },\n      {\n        path: 'tab2',\n        canActivate: [AngularFireAuthGuard],\n        data: {redirectUnauthorizedToLogin},\n        children: \n        [\n          {\n            path:'',\n            loadChildren: () => import('../tab2/tab2.module').then(m => m.Tab2PageModule)\n          }\n          ,\n          {\n            path:'product-detail/:id',\n            loadChildren: () => import('../pages/product-detail/product-detail.module').then( m => m.ProductDetailPageModule)\n          }\n          ,\n          {\n            path: 'checkout',\n            loadChildren: () => import('../pages/checkout/checkout.module').then( m => m.CheckoutPageModule)\n          }\n          ,\n          {\n            path: '',\n            redirectTo: 'list',\n            pathMatch: 'full'\n          }\n        ]\n      },\n      /* {\n        path:'product-detail',\n        loadChildren: () => import('../pages/product-detail/product-detail.module').then( m => m.ProductDetailPageModule)\n      }\n      ,\n      {\n        path:'product-detail/:id',\n        loadChildren: () => import('../pages/product-detail/product-detail.module').then( m => m.ProductDetailPageModule)\n      }\n      , */\n      {\n        path: 'tab3',\n        canActivate: [AngularFireAuthGuard],\n        data: {redirectUnauthorizedToLogin},\n        loadChildren: () => import('../tab3/tab3.module').then(m => m.Tab3PageModule)\n      },\n      {\n        path: '',\n        redirectTo: '/tabs/tab1',\n        pathMatch: 'full'\n      }\n    ]\n  },\n  /*\n  {\n    Changing the \"tabs/tab1\" on redirectTo to \"login\" we make sure that \n    the default page visited is the LOGIN screen \n    path: '',\n    redirectTo: '/login',\n    pathMatch: 'full'\n    \n    path: 'cart-modal',\n    loadChildren: () => import('../pages/cart-modal/cart-modal.module').then( m => m.CartModalPageModule)\n  }\n  */\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n})\nexport class TabsPageRoutingModule {}\n","import { Injectable } from '@angular/core';\n\n//For hanlde authorizations\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { AngularFirestore, AngularFirestoreDocument } from '@angular/fire/firestore';\n\nimport { Observable, from, of } from 'rxjs';\nimport { switchMap } from 'rxjs/operators';\nimport { NavController } from '@ionic/angular';\n\n//import * as firebase from 'firebase/app';\nimport { firebase } from '@firebase/app'\nimport '@firebase/auth';\n\n// To upload data (images ofr example)\nimport { AngularFireStorage, AngularFireUploadTask } from '@angular/fire/storage';\n\n\n//Interface for User\nexport interface User{\n  uid: string;\n  email: string;\n  photoURL?: string;\n  displayName: string\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n\n  user: Observable<any>;\n\n  constructor(\n    private _afAuth: AngularFireAuth,\n    private _db: AngularFirestore, \n    private _navCtrl: NavController,\n    private _storage: AngularFireStorage\n    ) {\n    this.user = this._afAuth.authState.pipe(\n      switchMap(user => {\n        if (user) {\n          return this._db.doc(`users/${user.uid}`).valueChanges();\n        } else {\n          return of(null);\n        }\n      })\n    )\n  }\n\n  signIn(credentials): Observable<any> {\n    return from(this._afAuth.signInWithEmailAndPassword(credentials.email, credentials.password)).pipe(\n      switchMap(user => {\n        console.log('real user: ', user);\n        if (user) {\n          return this._db.doc(`users/${user.user.uid}`).valueChanges();\n        } else {\n          return of(null);\n        }\n      })\n    )\n  }\n\n  /* signUp(credentials) {\n    return this._afAuth.createUserWithEmailAndPassword(credentials.email, credentials.password).then(data => {\n      console.log('after register: ', data);\n      return this._db.doc(`users/${data.user.uid}`).set({\n        name: credentials.name,\n        email: credentials.email,\n        password: credentials.password\n      });\n    });\n  } */\n\n  //Method to regster as new user\n  async signUp({email, password, fullname}): Promise<any> {\n    const credential = await this._afAuth.createUserWithEmailAndPassword(\n    email,\n    password\n    );\n    return this.updateUserData(credential.user, fullname);\n    }\n\n\n  // Sets user data to firestore on login\n  private updateUserData(user: User, name = null, image = null): Promise<any> {\n    const userRef: AngularFirestoreDocument<User> = this._db.doc(`users/${user.uid}`);\n    \n    const data = {\n    uid: user.uid,\n    email: user.email,\n    displayName: name,\n    photoURL: image,\n  };\n  return userRef.set(data, { merge: true });\n  }\n\n  //Mehtod for sign out the application\n  signOut() {\n    this._afAuth.signOut().then(() => {\n      this._navCtrl.navigateRoot('/');\n    });\n  }\n\n  //Method to get the user ID\n  getUserId(){\n    return firebase.auth().currentUser.uid;\n  }\n\n  //Methos to get the user DATA\n  getUserData(){\n    return this._db.doc<User>(`users/${this.getUserId()}`).valueChanges();\n  }\n\n  //Method to load the image on the profile tab\n  uploadAvatar(base64String) {\n\n    const filePath = `${this.getUserId()}/avatar`;\n    const fileRef = this._storage.ref(filePath);\n    const task: AngularFireUploadTask = fileRef.putString(base64String,'base64', { contentType: 'image/png' });\n\n    return from(task).pipe(\n    switchMap(result => {\n    // Upload Task finished, get URL to the image\n    return fileRef.getDownloadURL();\n    }),\n    switchMap(photoURL => {\n    // Set the URL to the user document\n    const uploadPromise = this._db\n    .doc(`users/${this.getUserId()}`)\n    .set({ photoURL }, { merge: true });\n    return from(uploadPromise);\n    })\n    )\n  }\n}"],"sourceRoot":"webpack:///"}