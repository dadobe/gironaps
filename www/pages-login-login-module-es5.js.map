{"version":3,"sources":["webpack:///src/app/pages/login/login.module.ts","webpack:///src/app/pages/login/login.page.scss","webpack:///src/app/pages/login/login.page.html","webpack:///src/app/pages/login/login-routing.module.ts","webpack:///src/app/pages/login/login.page.ts"],"names":["LoginPageModule","imports","declarations","routes","path","component","LoginPageRoutingModule","forChild","exports","LoginPage","fb","authService","loadingCtrl","toastCtrl","alertCtrl","router","registerForm","group","email","required","password","minLength","fullname","loginForm","create","message","loading","present","signIn","value","subscribe","user","dismiss","navigate","console","log","err","header","buttons","alert","signUp","then","res","duration","toast","flipcontainer","nativeElement","classList","toggle","selector","template"],"mappings":"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","file":"pages-login-login-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule,\n    ReactiveFormsModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","export default \"ion-input {\\n  background: primary;\\n  border-radius: 10px;\\n  margin-top: 6px;\\n  --padding-start: 6px !important;\\n}\\n\\n/* entire container, keeps perspective */\\n\\n.flip-container {\\n  perspective: 1000px;\\n}\\n\\n.flip-container.flip .flipper {\\n  transform: rotateY(180deg);\\n}\\n\\n.flip-container,\\n.front,\\n.back {\\n  width: 100%;\\n  height: 500px;\\n}\\n\\n/* flip speed goes here */\\n\\n.flipper {\\n  transition: 0.6s;\\n  transform-style: preserve-3d;\\n  position: relative;\\n}\\n\\n/* hide back of pane during swap */\\n\\n.front,\\n.back {\\n  -webkit-backface-visibility: hidden;\\n          backface-visibility: hidden;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n}\\n\\n/* front pane, placed above back */\\n\\n.front {\\n  z-index: 2;\\n}\\n\\n/* back, initially hidden pane */\\n\\n.back {\\n  transform: rotateY(180deg);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xvZ2luLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLG1CQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsK0JBQUE7QUFDSjs7QUFFRSx3Q0FBQTs7QUFDQTtFQUNFLG1CQUFBO0FBQ0o7O0FBRUU7RUFDRSwwQkFBQTtBQUNKOztBQUVFOzs7RUFHRSxXQUFBO0VBQ0EsYUFBQTtBQUNKOztBQUVFLHlCQUFBOztBQUNBO0VBQ0UsZ0JBQUE7RUFDQSw0QkFBQTtFQUVBLGtCQUFBO0FBQUo7O0FBR0Usa0NBQUE7O0FBQ0E7O0VBRUUsbUNBQUE7VUFBQSwyQkFBQTtFQUVBLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7QUFESjs7QUFJRSxrQ0FBQTs7QUFDQTtFQUNFLFVBQUE7QUFESjs7QUFJRSxnQ0FBQTs7QUFDQTtFQUNFLDBCQUFBO0FBREoiLCJmaWxlIjoibG9naW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWlucHV0IHtcbiAgICBiYWNrZ3JvdW5kOiBwcmltYXJ5O1xuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgbWFyZ2luLXRvcDogNnB4O1xuICAgIC0tcGFkZGluZy1zdGFydDogNnB4ICFpbXBvcnRhbnQ7XG4gIH1cbiAgIFxuICAvKiBlbnRpcmUgY29udGFpbmVyLCBrZWVwcyBwZXJzcGVjdGl2ZSAqL1xuICAuZmxpcC1jb250YWluZXIge1xuICAgIHBlcnNwZWN0aXZlOiAxMDAwcHg7XG4gIH1cbiAgIFxuICAuZmxpcC1jb250YWluZXIuZmxpcCAuZmxpcHBlciB7XG4gICAgdHJhbnNmb3JtOiByb3RhdGVZKDE4MGRlZyk7XG4gIH1cbiAgIFxuICAuZmxpcC1jb250YWluZXIsXG4gIC5mcm9udCxcbiAgLmJhY2sge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogNTAwcHg7XG4gIH1cbiAgIFxuICAvKiBmbGlwIHNwZWVkIGdvZXMgaGVyZSAqL1xuICAuZmxpcHBlciB7XG4gICAgdHJhbnNpdGlvbjogMC42cztcbiAgICB0cmFuc2Zvcm0tc3R5bGU6IHByZXNlcnZlLTNkO1xuICAgXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB9XG4gICBcbiAgLyogaGlkZSBiYWNrIG9mIHBhbmUgZHVyaW5nIHN3YXAgKi9cbiAgLmZyb250LFxuICAuYmFjayB7XG4gICAgYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuO1xuICAgXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICB9XG4gICBcbiAgLyogZnJvbnQgcGFuZSwgcGxhY2VkIGFib3ZlIGJhY2sgKi9cbiAgLmZyb250IHtcbiAgICB6LWluZGV4OiAyO1xuICB9XG4gICBcbiAgLyogYmFjaywgaW5pdGlhbGx5IGhpZGRlbiBwYW5lICovXG4gIC5iYWNrIHtcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZVkoMTgwZGVnKTtcbiAgfSJdfQ== */\";","export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-title>Welcome to GPS !</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <div class=\\\"flip-container\\\" #flipcontainer>\\n    <div class=\\\"flipper\\\">\\n      <div class=\\\"front\\\">\\n          <ion-card>\\n              <ion-card-header>\\n                <ion-card-title>Login</ion-card-title>\\n              </ion-card-header>\\n              <ion-card-content>\\n                <form [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"login()\\\">\\n          \\n                  <ion-item >\\n                    <ion-label >Email:</ion-label>\\n                    <ion-input type=\\\"email\\\" formControlName=\\\"email\\\"></ion-input>\\n                  </ion-item>\\n          \\n                  <ion-item >\\n                    <ion-label >Password:</ion-label>\\n                    <ion-input type=\\\"password\\\" formControlName=\\\"password\\\"></ion-input>\\n                  </ion-item>\\n\\n                  <ion-button expand=\\\"block\\\" type=\\\"submit\\\" color=\\\"primary\\\" [disabled]=\\\"!loginForm.valid\\\"\\n                  class=\\\"ion-padding-horizontal ion-margin-vertical\\\">\\n                Sign in\\n                </ion-button>\\n     \\n                <ion-button expand=\\\"block\\\" type=\\\"button\\\" color=\\\"secondary\\\" fill=\\\"outline\\\"\\n                  class=\\\"ion-padding-horizontal ion-margin-vertical\\\" (click)=\\\"toggleRegister()\\\">\\n                Create Account\\n                </ion-button>\\n                </form>\\n              </ion-card-content>\\n            </ion-card>\\n      </div>\\n\\n      <div class=\\\"back\\\">\\n          <ion-card>\\n              <ion-card-header>\\n                <ion-card-title>New Account</ion-card-title>\\n              </ion-card-header>\\n              <ion-card-content>\\n                <form [formGroup]=\\\"registerForm\\\" (ngSubmit)=\\\"register()\\\">\\n          \\n                  <ion-item >\\n                    <ion-label >Email:</ion-label>\\n                    <ion-input type=\\\"email\\\" formControlName=\\\"email\\\"></ion-input>\\n                  </ion-item>\\n          \\n                  <ion-item >\\n                    <ion-label >Name:</ion-label>\\n                    <ion-input formControlName=\\\"fullname\\\"></ion-input>\\n                  </ion-item>\\n          \\n                  <ion-item >\\n                    <ion-label >Password:</ion-label>\\n                    <ion-input type=\\\"password\\\" formControlName=\\\"password\\\"></ion-input>\\n                  </ion-item>\\n          \\n                  <ion-button expand=\\\"block\\\" type=\\\"submit\\\" class=\\\"ion-padding-horizontal ion-margin-vertical\\\"\\n                  [disabled]=\\\"!registerForm.valid\\\">\\n                    Register\\n                  </ion-button>\\n\\n                  <ion-button expand=\\\"block\\\" type=\\\"button\\\" color=\\\"secondary\\\" fill=\\\"clear\\\"\\n                  class=\\\"ion-padding-horizontal ion-margin-vertical\\\" (click)=\\\"toggleRegister()\\\">\\n                  <ion-icon name=\\\"arrow-back\\\" slot=\\\"start\\\"></ion-icon>\\n                Back to Login\\n                </ion-button>\\n\\n                </form>\\n              </ion-card-content>\\n            </ion-card>\\n      </div>\\n    </div>\\n  </div>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { AuthService } from '../../services/auth.service';\nimport { LoadingController, ToastController, AlertController } from '@ionic/angular';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n  \n  registerForm: FormGroup;\n  loginForm: FormGroup;\n\n  @ViewChild('flipcontainer', { static: false }) flipcontainer: ElementRef;\n\n  constructor(\n    private fb: FormBuilder, \n    private authService: AuthService, \n    private loadingCtrl: LoadingController,\n    private toastCtrl: ToastController, \n    private alertCtrl: AlertController, \n    private router: Router\n    ) { }\n\n  ngOnInit() {\n    this.registerForm = this.fb.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required, Validators.minLength(6)]],\n      fullname: ['', Validators.required]\n    });\n\n    this.loginForm = this.fb.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required, Validators.minLength(6)]]\n    });\n  }\n\n  async login() {\n    let loading = await this.loadingCtrl.create({\n      message: 'Loading...'\n    });\n    await loading.present();\n\n    this.authService.signIn(this.loginForm.value).subscribe(user => {\n      loading.dismiss();\n      this.router.navigate([\"/tabs\"]);\n      console.log('after login: ', user);\n      //this.navigateByRole(user['role']);\n      \n    },\n    async err => {\n      loading.dismiss();\n\n      let alert = await this.alertCtrl.create({\n        header: 'Error',\n        message: err.message,\n        buttons: ['OK']\n      });\n      alert.present();\n    })\n  }\n\n  async register() {\n    let loading = await this.loadingCtrl.create({\n      message: 'Loading...'\n    });\n    await loading.present();\n\n    this.authService.signUp(this.registerForm.value).then(async res => {\n      await loading.dismiss();\n\n      let toast = await this.toastCtrl.create({\n        duration: 3000,\n        message: 'Successfully created new Account!'\n      });\n      toast.present();\n      console.log('finished: ', res);\n\n      //this.navigateByRole(this.registerForm.value['role']);\n\n    }, async err => {\n      await loading.dismiss();\n\n      let alert = await this.alertCtrl.create({\n        header: 'Error',\n        message: err.message,\n        buttons: ['OK']\n      });\n      alert.present();\n    });\n  }\n\n  toggleRegister() {\n    this.flipcontainer.nativeElement.classList.toggle('flip');\n  }\n\n}\n"]}