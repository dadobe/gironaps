{"version":3,"sources":["./src/app/pages/login/login.module.ts","./src/app/pages/login/login.page.scss","./src/app/pages/login/login.page.html","./src/app/pages/login/login-routing.module.ts","./src/app/pages/login/login.page.ts"],"names":[],"mappings":"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","file":"pages-login-login-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule,\n    ReactiveFormsModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","export default \"ion-input {\\n  background: primary;\\n  border-radius: 10px;\\n  margin-top: 6px;\\n  --padding-start: 6px !important;\\n}\\n\\n/* entire container, keeps perspective */\\n\\n.flip-container {\\n  perspective: 1000px;\\n}\\n\\n.flip-container.flip .flipper {\\n  transform: rotateY(180deg);\\n}\\n\\n.flip-container,\\n.front,\\n.back {\\n  width: 100%;\\n  height: 500px;\\n}\\n\\n/* flip speed goes here */\\n\\n.flipper {\\n  transition: 0.6s;\\n  transform-style: preserve-3d;\\n  position: relative;\\n}\\n\\n/* hide back of pane during swap */\\n\\n.front,\\n.back {\\n  -webkit-backface-visibility: hidden;\\n          backface-visibility: hidden;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n}\\n\\n/* front pane, placed above back */\\n\\n.front {\\n  z-index: 2;\\n}\\n\\n/* back, initially hidden pane */\\n\\n.back {\\n  transform: rotateY(180deg);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xvZ2luLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLG1CQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsK0JBQUE7QUFDSjs7QUFFRSx3Q0FBQTs7QUFDQTtFQUNFLG1CQUFBO0FBQ0o7O0FBRUU7RUFDRSwwQkFBQTtBQUNKOztBQUVFOzs7RUFHRSxXQUFBO0VBQ0EsYUFBQTtBQUNKOztBQUVFLHlCQUFBOztBQUNBO0VBQ0UsZ0JBQUE7RUFDQSw0QkFBQTtFQUVBLGtCQUFBO0FBQUo7O0FBR0Usa0NBQUE7O0FBQ0E7O0VBRUUsbUNBQUE7VUFBQSwyQkFBQTtFQUVBLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7QUFESjs7QUFJRSxrQ0FBQTs7QUFDQTtFQUNFLFVBQUE7QUFESjs7QUFJRSxnQ0FBQTs7QUFDQTtFQUNFLDBCQUFBO0FBREoiLCJmaWxlIjoibG9naW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWlucHV0IHtcbiAgICBiYWNrZ3JvdW5kOiBwcmltYXJ5O1xuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgbWFyZ2luLXRvcDogNnB4O1xuICAgIC0tcGFkZGluZy1zdGFydDogNnB4ICFpbXBvcnRhbnQ7XG4gIH1cbiAgIFxuICAvKiBlbnRpcmUgY29udGFpbmVyLCBrZWVwcyBwZXJzcGVjdGl2ZSAqL1xuICAuZmxpcC1jb250YWluZXIge1xuICAgIHBlcnNwZWN0aXZlOiAxMDAwcHg7XG4gIH1cbiAgIFxuICAuZmxpcC1jb250YWluZXIuZmxpcCAuZmxpcHBlciB7XG4gICAgdHJhbnNmb3JtOiByb3RhdGVZKDE4MGRlZyk7XG4gIH1cbiAgIFxuICAuZmxpcC1jb250YWluZXIsXG4gIC5mcm9udCxcbiAgLmJhY2sge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogNTAwcHg7XG4gIH1cbiAgIFxuICAvKiBmbGlwIHNwZWVkIGdvZXMgaGVyZSAqL1xuICAuZmxpcHBlciB7XG4gICAgdHJhbnNpdGlvbjogMC42cztcbiAgICB0cmFuc2Zvcm0tc3R5bGU6IHByZXNlcnZlLTNkO1xuICAgXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB9XG4gICBcbiAgLyogaGlkZSBiYWNrIG9mIHBhbmUgZHVyaW5nIHN3YXAgKi9cbiAgLmZyb250LFxuICAuYmFjayB7XG4gICAgYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuO1xuICAgXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICB9XG4gICBcbiAgLyogZnJvbnQgcGFuZSwgcGxhY2VkIGFib3ZlIGJhY2sgKi9cbiAgLmZyb250IHtcbiAgICB6LWluZGV4OiAyO1xuICB9XG4gICBcbiAgLyogYmFjaywgaW5pdGlhbGx5IGhpZGRlbiBwYW5lICovXG4gIC5iYWNrIHtcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZVkoMTgwZGVnKTtcbiAgfSJdfQ== */\";","export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-title>Welcome to GPS !</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <div class=\\\"flip-container\\\" #flipcontainer>\\n    <div class=\\\"flipper\\\">\\n      <div class=\\\"front\\\">\\n          <ion-card>\\n              <ion-card-header>\\n                <ion-card-title>Login</ion-card-title>\\n              </ion-card-header>\\n              <ion-card-content>\\n                <form [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"login()\\\">\\n          \\n                  <ion-item >\\n                    <ion-label >Email:</ion-label>\\n                    <ion-input type=\\\"email\\\" formControlName=\\\"email\\\"></ion-input>\\n                  </ion-item>\\n          \\n                  <ion-item >\\n                    <ion-label >Password:</ion-label>\\n                    <ion-input type=\\\"password\\\" formControlName=\\\"password\\\"></ion-input>\\n                  </ion-item>\\n\\n                  <ion-button expand=\\\"block\\\" type=\\\"submit\\\" color=\\\"primary\\\" [disabled]=\\\"!loginForm.valid\\\"\\n                  class=\\\"ion-padding-horizontal ion-margin-vertical\\\">\\n                Sign in\\n                </ion-button>\\n     \\n                  <ion-button expand=\\\"block\\\" type=\\\"button\\\" color=\\\"secondary\\\" fill=\\\"outline\\\"\\n                  class=\\\"ion-padding-horizontal ion-margin-vertical\\\" (click)=\\\"toggleRegister()\\\">\\n                Create Account\\n                </ion-button>\\n                </form>\\n              </ion-card-content>\\n            </ion-card>\\n      </div>\\n\\n      <div class=\\\"back\\\">\\n          <ion-card>\\n              <ion-card-header>\\n                <ion-card-title>New Account</ion-card-title>\\n              </ion-card-header>\\n              <ion-card-content>\\n                <form [formGroup]=\\\"registerForm\\\" (ngSubmit)=\\\"register()\\\">\\n          \\n                  <ion-item >\\n                    <ion-label >Email:</ion-label>\\n                    <ion-input type=\\\"email\\\" formControlName=\\\"email\\\"></ion-input>\\n                  </ion-item>\\n          \\n                  <ion-item >\\n                    <ion-label >Name:</ion-label>\\n                    <ion-input formControlName=\\\"fullname\\\"></ion-input>\\n                  </ion-item>\\n          \\n                  <ion-item >\\n                    <ion-label >Password:</ion-label>\\n                    <ion-input type=\\\"password\\\" formControlName=\\\"password\\\"></ion-input>\\n                  </ion-item>\\n          \\n                  <ion-button expand=\\\"block\\\" type=\\\"submit\\\" class=\\\"ion-padding-horizontal ion-margin-vertical\\\"\\n                  [disabled]=\\\"!registerForm.valid\\\">\\n                    Register\\n                  </ion-button>\\n\\n                  <ion-button expand=\\\"block\\\" type=\\\"button\\\" color=\\\"secondary\\\" fill=\\\"clear\\\"\\n                  class=\\\"ion-padding-horizontal ion-margin-vertical\\\" (click)=\\\"toggleRegister()\\\">\\n                  <ion-icon name=\\\"arrow-back\\\" slot=\\\"start\\\"></ion-icon>\\n                Back to Login\\n                </ion-button>\\n\\n                </form>\\n              </ion-card-content>\\n            </ion-card>\\n      </div>\\n    </div>\\n  </div>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { AuthService } from '../../services/auth.service';\nimport { LoadingController, ToastController, AlertController } from '@ionic/angular';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n  \n  registerForm: FormGroup;\n  loginForm: FormGroup;\n\n  @ViewChild('flipcontainer', { static: false }) flipcontainer: ElementRef;\n\n  constructor(\n    private fb: FormBuilder, \n    private authService: AuthService, \n    private loadingCtrl: LoadingController,\n    private toastCtrl: ToastController, \n    private alertCtrl: AlertController, \n    private router: Router\n    ) { }\n\n  ngOnInit() {\n    this.registerForm = this.fb.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required, Validators.minLength(6)]],\n      fullname: ['', Validators.required]\n    });\n\n    this.loginForm = this.fb.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required, Validators.minLength(6)]]\n    });\n  }\n\n  async login() {\n    let loading = await this.loadingCtrl.create({\n      message: 'Loading...'\n    });\n    await loading.present();\n\n    this.authService.signIn(this.loginForm.value).subscribe(user => {\n      loading.dismiss();\n      this.router.navigate([\"/tabs\"]);\n      console.log('after login: ', user);\n      //this.navigateByRole(user['role']);\n      \n    },\n    async err => {\n      loading.dismiss();\n\n      let alert = await this.alertCtrl.create({\n        header: 'Error',\n        message: err.message,\n        buttons: ['OK']\n      });\n      alert.present();\n    })\n  }\n\n  async register() {\n    let loading = await this.loadingCtrl.create({\n      message: 'Loading...'\n    });\n    await loading.present();\n\n    this.authService.signUp(this.registerForm.value).then(async res => {\n      await loading.dismiss();\n\n      let toast = await this.toastCtrl.create({\n        duration: 3000,\n        message: 'Successfully created new Account!'\n      });\n      toast.present();\n      console.log('finished: ', res);\n\n      //this.navigateByRole(this.registerForm.value['role']);\n\n    }, async err => {\n      await loading.dismiss();\n\n      let alert = await this.alertCtrl.create({\n        header: 'Error',\n        message: err.message,\n        buttons: ['OK']\n      });\n      alert.present();\n    });\n  }\n\n  toggleRegister() {\n    this.flipcontainer.nativeElement.classList.toggle('flip');\n  }\n\n}\n"],"sourceRoot":"webpack:///"}